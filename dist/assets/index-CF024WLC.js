(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();async function ne(e){return new Promise((l,t)=>{new google.maps.Geocoder().geocode({address:e},(n,a)=>{if(a===google.maps.GeocoderStatus.OK)if(n[0]){const o=n[0].geometry.location;l({latitude:o.lat(),longitude:o.lng()})}else t(new Error("No results found for this address"));else t(new Error("Geocoder failed due to: "+a))})})}async function re(e,l,t){const r=new google.maps.places.PlacesService(new google.maps.Map(document.createElement("div"))),n={location:new google.maps.LatLng(e.latitude,e.longitude),radius:l,type:t};try{const a=await new Promise((f,i)=>{r.nearbySearch(n,(u,d)=>{d===google.maps.places.PlacesServiceStatus.OK?f(u):i(d)})}),o=a.map(f=>f.name);return a}catch(a){return console.error("Places service failed:",a),[]}}var F={};/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */F.parseArgs=function(t){for(var l={},t=t||process.argv.slice(2),r=0;r<t.length;r+=2){var n=t[r+1];try{n=JSON.parse(n)}catch{}var a=t[r].replace(/^-*/g,""),o=l[a];Array.isArray(o)?n=o.concat(n):o!=null&&(n=[o,n]),l[a]=n}return l};F.callback=function(e,l){e?console.log("Error:",e.message!=null?e.message:e):console.log(JSON.stringify(l.json,null,4))};var H={},Q={},U={},A={};Object.defineProperty(A,"__esModule",{value:!0});A.default=oe;let I;const ae=new Uint8Array(16);function oe(){if(!I&&(I=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!I))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(ae)}var $={},O={},S={};Object.defineProperty(S,"__esModule",{value:!0});S.default=void 0;var le=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;S.default=le;Object.defineProperty(O,"__esModule",{value:!0});O.default=void 0;var fe=ue(S);function ue(e){return e&&e.__esModule?e:{default:e}}function ie(e){return typeof e=="string"&&fe.default.test(e)}var de=ie;O.default=de;Object.defineProperty($,"__esModule",{value:!0});$.default=void 0;$.unsafeStringify=X;var ce=se(O);function se(e){return e&&e.__esModule?e:{default:e}}const g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));function X(e,l=0){return g[e[l+0]]+g[e[l+1]]+g[e[l+2]]+g[e[l+3]]+"-"+g[e[l+4]]+g[e[l+5]]+"-"+g[e[l+6]]+g[e[l+7]]+"-"+g[e[l+8]]+g[e[l+9]]+"-"+g[e[l+10]]+g[e[l+11]]+g[e[l+12]]+g[e[l+13]]+g[e[l+14]]+g[e[l+15]]}function ve(e,l=0){const t=X(e,l);if(!(0,ce.default)(t))throw TypeError("Stringified UUID is invalid");return t}var ge=ve;$.default=ge;Object.defineProperty(U,"__esModule",{value:!0});U.default=void 0;var pe=ye(A),me=$;function ye(e){return e&&e.__esModule?e:{default:e}}let W,k,B=0,K=0;function _e(e,l,t){let r=l&&t||0;const n=l||new Array(16);e=e||{};let a=e.node||W,o=e.clockseq!==void 0?e.clockseq:k;if(a==null||o==null){const s=e.random||(e.rng||pe.default)();a==null&&(a=W=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=k=(s[6]<<8|s[7])&16383)}let f=e.msecs!==void 0?e.msecs:Date.now(),i=e.nsecs!==void 0?e.nsecs:K+1;const u=f-B+(i-K)/1e4;if(u<0&&e.clockseq===void 0&&(o=o+1&16383),(u<0||f>B)&&e.nsecs===void 0&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");B=f,K=i,k=o,f+=122192928e5;const d=((f&268435455)*1e4+i)%4294967296;n[r++]=d>>>24&255,n[r++]=d>>>16&255,n[r++]=d>>>8&255,n[r++]=d&255;const c=f/4294967296*1e4&268435455;n[r++]=c>>>8&255,n[r++]=c&255,n[r++]=c>>>24&15|16,n[r++]=c>>>16&255,n[r++]=o>>>8|128,n[r++]=o&255;for(let s=0;s<6;++s)n[r+s]=a[s];return l||(0,me.unsafeStringify)(n)}var he=_e;U.default=he;var L={},M={},P={};Object.defineProperty(P,"__esModule",{value:!0});P.default=void 0;var we=Me(O);function Me(e){return e&&e.__esModule?e:{default:e}}function $e(e){if(!(0,we.default)(e))throw TypeError("Invalid UUID");let l;const t=new Uint8Array(16);return t[0]=(l=parseInt(e.slice(0,8),16))>>>24,t[1]=l>>>16&255,t[2]=l>>>8&255,t[3]=l&255,t[4]=(l=parseInt(e.slice(9,13),16))>>>8,t[5]=l&255,t[6]=(l=parseInt(e.slice(14,18),16))>>>8,t[7]=l&255,t[8]=(l=parseInt(e.slice(19,23),16))>>>8,t[9]=l&255,t[10]=(l=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=l/4294967296&255,t[12]=l>>>24&255,t[13]=l>>>16&255,t[14]=l>>>8&255,t[15]=l&255,t}var Oe=$e;P.default=Oe;Object.defineProperty(M,"__esModule",{value:!0});M.URL=M.DNS=void 0;M.default=Se;var Pe=$,Ie=Ue(P);function Ue(e){return e&&e.__esModule?e:{default:e}}function Ae(e){e=unescape(encodeURIComponent(e));const l=[];for(let t=0;t<e.length;++t)l.push(e.charCodeAt(t));return l}const Y="6ba7b810-9dad-11d1-80b4-00c04fd430c8";M.DNS=Y;const Z="6ba7b811-9dad-11d1-80b4-00c04fd430c8";M.URL=Z;function Se(e,l,t){function r(n,a,o,f){var i;if(typeof n=="string"&&(n=Ae(n)),typeof a=="string"&&(a=(0,Ie.default)(a)),((i=a)===null||i===void 0?void 0:i.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+n.length);if(u.set(a),u.set(n,a.length),u=t(u),u[6]=u[6]&15|l,u[8]=u[8]&63|128,o){f=f||0;for(let d=0;d<16;++d)o[f+d]=u[d];return o}return(0,Pe.unsafeStringify)(u)}try{r.name=e}catch{}return r.DNS=Y,r.URL=Z,r}var D={};Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;function Le(e){if(typeof e=="string"){const l=unescape(encodeURIComponent(e));e=new Uint8Array(l.length);for(let t=0;t<l.length;++t)e[t]=l.charCodeAt(t)}return De(Re(Ee(e),e.length*8))}function De(e){const l=[],t=e.length*32,r="0123456789abcdef";for(let n=0;n<t;n+=8){const a=e[n>>5]>>>n%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(a&15),16);l.push(o)}return l}function j(e){return(e+64>>>9<<4)+14+1}function Re(e,l){e[l>>5]|=128<<l%32,e[j(l)-1]=l;let t=1732584193,r=-271733879,n=-1732584194,a=271733878;for(let o=0;o<e.length;o+=16){const f=t,i=r,u=n,d=a;t=p(t,r,n,a,e[o],7,-680876936),a=p(a,t,r,n,e[o+1],12,-389564586),n=p(n,a,t,r,e[o+2],17,606105819),r=p(r,n,a,t,e[o+3],22,-1044525330),t=p(t,r,n,a,e[o+4],7,-176418897),a=p(a,t,r,n,e[o+5],12,1200080426),n=p(n,a,t,r,e[o+6],17,-1473231341),r=p(r,n,a,t,e[o+7],22,-45705983),t=p(t,r,n,a,e[o+8],7,1770035416),a=p(a,t,r,n,e[o+9],12,-1958414417),n=p(n,a,t,r,e[o+10],17,-42063),r=p(r,n,a,t,e[o+11],22,-1990404162),t=p(t,r,n,a,e[o+12],7,1804603682),a=p(a,t,r,n,e[o+13],12,-40341101),n=p(n,a,t,r,e[o+14],17,-1502002290),r=p(r,n,a,t,e[o+15],22,1236535329),t=m(t,r,n,a,e[o+1],5,-165796510),a=m(a,t,r,n,e[o+6],9,-1069501632),n=m(n,a,t,r,e[o+11],14,643717713),r=m(r,n,a,t,e[o],20,-373897302),t=m(t,r,n,a,e[o+5],5,-701558691),a=m(a,t,r,n,e[o+10],9,38016083),n=m(n,a,t,r,e[o+15],14,-660478335),r=m(r,n,a,t,e[o+4],20,-405537848),t=m(t,r,n,a,e[o+9],5,568446438),a=m(a,t,r,n,e[o+14],9,-1019803690),n=m(n,a,t,r,e[o+3],14,-187363961),r=m(r,n,a,t,e[o+8],20,1163531501),t=m(t,r,n,a,e[o+13],5,-1444681467),a=m(a,t,r,n,e[o+2],9,-51403784),n=m(n,a,t,r,e[o+7],14,1735328473),r=m(r,n,a,t,e[o+12],20,-1926607734),t=y(t,r,n,a,e[o+5],4,-378558),a=y(a,t,r,n,e[o+8],11,-2022574463),n=y(n,a,t,r,e[o+11],16,1839030562),r=y(r,n,a,t,e[o+14],23,-35309556),t=y(t,r,n,a,e[o+1],4,-1530992060),a=y(a,t,r,n,e[o+4],11,1272893353),n=y(n,a,t,r,e[o+7],16,-155497632),r=y(r,n,a,t,e[o+10],23,-1094730640),t=y(t,r,n,a,e[o+13],4,681279174),a=y(a,t,r,n,e[o],11,-358537222),n=y(n,a,t,r,e[o+3],16,-722521979),r=y(r,n,a,t,e[o+6],23,76029189),t=y(t,r,n,a,e[o+9],4,-640364487),a=y(a,t,r,n,e[o+12],11,-421815835),n=y(n,a,t,r,e[o+15],16,530742520),r=y(r,n,a,t,e[o+2],23,-995338651),t=_(t,r,n,a,e[o],6,-198630844),a=_(a,t,r,n,e[o+7],10,1126891415),n=_(n,a,t,r,e[o+14],15,-1416354905),r=_(r,n,a,t,e[o+5],21,-57434055),t=_(t,r,n,a,e[o+12],6,1700485571),a=_(a,t,r,n,e[o+3],10,-1894986606),n=_(n,a,t,r,e[o+10],15,-1051523),r=_(r,n,a,t,e[o+1],21,-2054922799),t=_(t,r,n,a,e[o+8],6,1873313359),a=_(a,t,r,n,e[o+15],10,-30611744),n=_(n,a,t,r,e[o+6],15,-1560198380),r=_(r,n,a,t,e[o+13],21,1309151649),t=_(t,r,n,a,e[o+4],6,-145523070),a=_(a,t,r,n,e[o+11],10,-1120210379),n=_(n,a,t,r,e[o+2],15,718787259),r=_(r,n,a,t,e[o+9],21,-343485551),t=w(t,f),r=w(r,i),n=w(n,u),a=w(a,d)}return[t,r,n,a]}function Ee(e){if(e.length===0)return[];const l=e.length*8,t=new Uint32Array(j(l));for(let r=0;r<l;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function w(e,l){const t=(e&65535)+(l&65535);return(e>>16)+(l>>16)+(t>>16)<<16|t&65535}function be(e,l){return e<<l|e>>>32-l}function R(e,l,t,r,n,a){return w(be(w(w(l,e),w(r,a)),n),t)}function p(e,l,t,r,n,a,o){return R(l&t|~l&r,e,l,n,a,o)}function m(e,l,t,r,n,a,o){return R(l&r|t&~r,e,l,n,a,o)}function y(e,l,t,r,n,a,o){return R(l^t^r,e,l,n,a,o)}function _(e,l,t,r,n,a,o){return R(t^(l|~r),e,l,n,a,o)}var Ce=Le;D.default=Ce;Object.defineProperty(L,"__esModule",{value:!0});L.default=void 0;var qe=z(M),Te=z(D);function z(e){return e&&e.__esModule?e:{default:e}}const Ne=(0,qe.default)("v3",48,Te.default);var xe=Ne;L.default=xe;var E={},b={};Object.defineProperty(b,"__esModule",{value:!0});b.default=void 0;const ke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Be={randomUUID:ke};b.default=Be;Object.defineProperty(E,"__esModule",{value:!0});E.default=void 0;var J=ee(b),Ke=ee(A),Ge=$;function ee(e){return e&&e.__esModule?e:{default:e}}function He(e,l,t){if(J.default.randomUUID&&!l&&!e)return J.default.randomUUID();e=e||{};const r=e.random||(e.rng||Ke.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,l){t=t||0;for(let n=0;n<16;++n)l[t+n]=r[n];return l}return(0,Ge.unsafeStringify)(r)}var Ve=He;E.default=Ve;var C={},q={};Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;function We(e,l,t,r){switch(e){case 0:return l&t^~l&r;case 1:return l^t^r;case 2:return l&t^l&r^t&r;case 3:return l^t^r}}function G(e,l){return e<<l|e>>>32-l}function Je(e){const l=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const o=unescape(encodeURIComponent(e));e=[];for(let f=0;f<o.length;++f)e.push(o.charCodeAt(f))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,n=Math.ceil(r/16),a=new Array(n);for(let o=0;o<n;++o){const f=new Uint32Array(16);for(let i=0;i<16;++i)f[i]=e[o*64+i*4]<<24|e[o*64+i*4+1]<<16|e[o*64+i*4+2]<<8|e[o*64+i*4+3];a[o]=f}a[n-1][14]=(e.length-1)*8/Math.pow(2,32),a[n-1][14]=Math.floor(a[n-1][14]),a[n-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<n;++o){const f=new Uint32Array(80);for(let v=0;v<16;++v)f[v]=a[o][v];for(let v=16;v<80;++v)f[v]=G(f[v-3]^f[v-8]^f[v-14]^f[v-16],1);let i=t[0],u=t[1],d=t[2],c=t[3],s=t[4];for(let v=0;v<80;++v){const h=Math.floor(v/20),x=G(i,5)+We(h,u,d,c)+s+l[h]+f[v]>>>0;s=c,c=d,d=G(u,30)>>>0,u=i,i=x}t[0]=t[0]+i>>>0,t[1]=t[1]+u>>>0,t[2]=t[2]+d>>>0,t[3]=t[3]+c>>>0,t[4]=t[4]+s>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Fe=Je;q.default=Fe;Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var Qe=te(M),Xe=te(q);function te(e){return e&&e.__esModule?e:{default:e}}const Ye=(0,Qe.default)("v5",80,Xe.default);var Ze=Ye;C.default=Ze;var T={};Object.defineProperty(T,"__esModule",{value:!0});T.default=void 0;var je="00000000-0000-0000-0000-000000000000";T.default=je;var N={};Object.defineProperty(N,"__esModule",{value:!0});N.default=void 0;var ze=et(O);function et(e){return e&&e.__esModule?e:{default:e}}function tt(e){if(!(0,ze.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var nt=tt;N.default=nt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.default}});var l=d(U),t=d(L),r=d(E),n=d(C),a=d(T),o=d(N),f=d(O),i=d($),u=d(P);function d(c){return c&&c.__esModule?c:{default:c}}})(Q);/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const{v4:rt}=Q;H.encodePath=function(e){for(var l=[],t=[0,0],r,n=function(f){for(f=f<0?~(f<<1):f<<1;f>=32;)l.push(String.fromCharCode((32|f&31)+63)),f>>=5;l.push(String.fromCharCode(f+63))},a=0,o=e.length||0;a<o;++a)r=[Math.round(e[a].lat*1e5),Math.round(e[a].lng*1e5)],n(r[0]-t[0]),n(r[1]-t[1]),t=r;return l.join("")};H.decodePath=function(e){for(var l=e.length||0,t=new Array(Math.floor(e.length/2)),r=0,n=0,a=0,o=0;r<l;++o){var f=1,i=0,u;do u=e.charCodeAt(r++)-63-1,f+=u<<i,i+=5;while(u>=31);n+=f&1?~(f>>1):f>>1,f=1,i=0;do u=e.charCodeAt(r++)-63-1,f+=u<<i,i+=5;while(u>=31);a+=f&1?~(f>>1):f>>1,t[o]={lat:n*1e-5,lng:a*1e-5}}return t.length=o,t};H.placesAutoCompleteSessionToken=rt;document.querySelector("#app").innerHTML=`
  <div><h1>Whise Search</h1></div>
  <div>
    <label>Adresse</label>
    <input type="text" id="adress" name="adress" value="123 rue de la station"> 
    <label>Ville</label>
    <input type="text" id="city" name="city" value="woluwe">

    <label>Type de lieu</label>
    <select name="type" id="type">
      <option value="school">école</option>
      <option value="gym">salle de sport</option>
      <option value="supermarket">supermarché</option>
      <option value="bus_station">bus</option>
      <option value="bakery">boulanger</option>
      <option value="cafe">café</option>
      <option value="hospital">hopital</option>
      <option value="light_rail_station">tram</option>
    </select>
    <label>Rayon (Km)</label>
    <input type="number" id="radius" placeholder="Radius (Km)" name="radius" min="1" max="10" value="1" required>
    <button id="searchBtn">Chercher</button>
    <div id="results"></div>
    <div id="map" style="width: 100%; height: 400px;"></div>

  </div>
`;document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("searchBtn"),l=document.getElementById("results");e.addEventListener("click",async()=>{const t=document.getElementById("type").value,r=parseInt(document.getElementById("radius").value)*1e3,n=document.getElementById("adress").value+" "+document.getElementById("city").value;console.log(n);try{const a=await ne(n);re(a,r,t).then(o=>{var f=[];o.map(u=>{const d=u.geometry.location.lat(),c=u.geometry.location.lng(),s=u.name,v={lat:d,lng:c},h={position:{lat:d,lng:c},title:s};f.push(h)});async function i(u){const d=`my-advanced-map-${Math.random().toString(36).substr(2,9)}`,{Map:c}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:s}=await google.maps.importLibrary("marker"),v=new c(document.getElementById("map"),{center:{lat:a.latitude,lng:a.longitude},zoom:14,mapId:d});for(let h of u){const x=new google.maps.InfoWindow({content:`<p style="color: black">${h.title}</p>`}),V=new s({position:h.position,map:v,title:h.title});V.addListener("click",()=>{x.open({anchor:V,map:v})})}}if(l.innerHTML="",o.length>0){const u=document.createElement("ul");for(const d of o){const c=document.createElement("li");c.textContent=`${d.name}`,u.appendChild(c)}l.appendChild(u)}else l.textContent="No results found.";i(f)}).catch(o=>{console.error("Nearby search failed:",o),l.textContent="Search failed. Please try again."})}catch(a){console.error("Geocoding failed:",a),l.textContent="Geocoding failed. Please try again."}})});
